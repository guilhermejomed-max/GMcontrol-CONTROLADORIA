<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GM Control - Cálculo de Viabilidade de Frete</title>

    <style>
        :root {
            --cor-principal: #004d99; /* Azul Jomed (Header, Títulos) */
            --cor-menu-header: #013768; /* Azul Mais Escuro para Títulos da Sidebar e GM Control */
            --cor-menu-subitem: #e4e4e4; /* Cinza Claro para Sub-itens da Sidebar */
            --cor-fundo-subitem-hover: #d3d3d3;
            --cor-secundaria: #f4f4f9;
            --cor-destaque: #28a745; 
            --borda-padrao: 1px solid #ddd;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--cor-secundaria);
        }

        .container-form-wrapper {
            max-width: 1200px;
            margin: 20px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* ------------------------------------------- */
        /* CABEÇALHO DA PÁGINA (Header) */
        /* ------------------------------------------- */
        .header-principal {
            display: flex;
            justify-content: space-between; 
            align-items: center;
            padding-top: 10px;
        }
        
        .logo img {
            max-width: 120px; /* Logo da Jomed */
            height: auto;
        }

        h1 {
            color: var(--cor-principal);
            text-align: center;
            flex-grow: 1; 
            margin: 0 20px;
            font-size: 1.8em; 
            font-weight: bold;
        }

        .header-divisoria {
            height: 3px;
            background-color: var(--cor-principal);
            width: 100%;
            margin-bottom: 30px;
        }

        /* ÍCONE HAMBURGER */
        .hamburger-menu {
            display: block; 
            cursor: pointer;
            padding: 10px;
        }

        .bar {
            width: 30px;
            height: 3px;
            background-color: var(--cor-principal);
            margin: 6px 0;
            transition: 0.4s;
        }

        /* ------------------------------------------- */
        /* MENU LATERAL POP-UP (Sidebar) */
        /* ------------------------------------------- */
        #menu-sidebar {
            position: fixed; top: 0; left: 0; z-index: 1000; 
            width: 280px; height: 100%; background-color: #fff;
            box-shadow: 4px 0 10px rgba(0, 0, 0, 0.2); padding-top: 0;
            transform: translateX(-100%); transition: transform 0.3s ease-in-out;
            overflow-y: auto;
        }

        #menu-sidebar.open {
            transform: translateX(0);
        }
        
        /* TÍTULO GM CONTROL COM LOGO DENTRO DA SIDEBAR */
        .sidebar-titulo {
            background-color: var(--cor-menu-header); 
            color: white;
            padding: 15px 20px; 
            font-size: 1.5em;
            font-weight: bold;
            text-align: center;
            border-bottom: 1px solid var(--cor-principal);

            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 10px; 
        }
        
        .sidebar-titulo img {
            height: 40px; 
            width: auto;
            /* A logo do GM Control é clara, mas se precisar de filtro:
            filter: brightness(0) invert(1);
            */
        }

        .menu-navegacao { list-style: none; padding: 0; margin: 0; }
        
        /* Estilo para TODOS os itens do novo menu */
        .menu-navegacao a.menu-item {
            display: block; background-color: #fff; 
            color: var(--cor-principal); padding: 15px 30px; 
            font-weight: bold; border-bottom: 1px solid var(--cor-menu-subitem);
            transition: background-color 0.2s;
            text-decoration: none; 
            cursor: pointer;
        }
        
        /* Estilo para o item ativo (SIMULADOR) */
        .menu-navegacao a.menu-item.ativo {
            background-color: var(--cor-menu-subitem); 
            color: var(--cor-menu-header); 
        }
        
        .menu-navegacao a.menu-item:hover {
            background-color: var(--cor-fundo-subitem-hover); 
        }
        
        /* ------------------------------------------- */
        /* JANELA MODAL POP-UP (Estilos Mínimos) */
        /* ------------------------------------------- */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 2000; 
            left: 0; top: 0; 
            width: 100%; height: 100%;
            overflow: auto; 
            background-color: rgba(0,0,0,0.4); 
        }

        .modal-content {
            background-color: #fefefe;
            margin: 10% auto; 
            padding: 20px;
            border: 1px solid #888;
            width: 80%; 
            min-height: 400px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .close {
            color: #aaa; float: right; font-size: 28px; font-weight: bold;
        }
        .close:hover, .close:focus {
            color: #000; text-decoration: none; cursor: pointer;
        }

        /* ------------------------------------------- */
        /* CAMPOS E GRIDS DO FORMULÁRIO (Mantidos) */
        /* ------------------------------------------- */
        fieldset { border: var(--borda-padrao); border-radius: 6px; padding: 20px; margin-bottom: 30px; }
        legend { font-size: 1.2em; font-weight: bold; color: var(--cor-principal); padding: 0 10px; }
        .grid-campos { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 15px; }
        .campo { display: flex; flex-direction: column; }
        input[type="text"], input[type="number"], select { padding: 10px; border: var(--borda-padrao); border-radius: 4px; width: 100%; box-sizing: border-box; font-size: 1em; }
        .btn-calcular { display: block; width: 100%; padding: 15px; background-color: var(--cor-destaque); color: white; border: none; border-radius: 4px; font-size: 1.1em; cursor: pointer; margin-top: 20px; transition: background-color 0.3s; }

    </style>
</head>
<body>

    <div id="pageModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2 id="modalTitle"></h2>
        <p>Conteúdo desta página será adicionado aqui.</p>
        </div>
    </div>


    <nav id="menu-sidebar">
        <div class="sidebar-titulo">
            <img src="GM Control.jpg" alt="Logo GM Control">
            GM Control
        </div>

        <ul class="menu-navegacao">
            <li><a id="link-simulador" class="menu-item ativo" href="#">SIMULADOR</a></li>
            
            <li><a id="link-controladoria" class="menu-item" onclick="openModal('CONTROLADORIA')">CONTROLADORIA</a></li>
            <li><a id="link-dre" class="menu-item" onclick="openModal('DRE')">DRE</a></li>
            <li><a id="link-tabela" class="menu-item" onclick="openModal('TABELA TERCEIRO')">TABELA TERCEIRO</a></li>
        </ul>
    </nav>

    <main class="container-form-wrapper">
        
        <header class="header-principal">
            <div class="logo">
                <img src="Jomed.jpg" alt="Logo Jomed Transportes & Logística">
            </div>
            
            <h1>Cálculo de Viabilidade de Frete</h1>

            <div class="hamburger-menu" onclick="toggleSidebar()">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </header>
        
        <div class="header-divisoria"></div>
        
        <form id="calculo-frete">

            <fieldset id="secao-1"><legend>1. Dados da Viagem e Rota</legend>
                <div class="grid-campos">
                    <div class="campo"><label for="cliente_qt">CLIENTE</label><input type="text" id="cliente_qt" name="CLIENTE" required></div>
                    <div class="campo"><label for="viagens_dia_qt">QT Viagens/Dia</label><input type="number" id="viagens_dia_qt" name="Viagens/Dia" min="1"></div>
                    <div class="campo"><label for="motoristas_qt">Qt Motoristas</label><input type="number" id="motoristas_qt" name="Qt Motoristas" min="0"></div>
                    <div class="campo"><label for="cidade_origem">CIDADE ORIGEM</label><input type="text" id="cidade_origem" name="CIDADE ORIGEM" required></div>
                    <div class="campo"><label for="uf_origem">UF ORIGEM</label><input type="text" id="uf_origem" name="UF ORIGEM" maxlength="2"></div>
                    <div class="campo"><label for="cidade_destino">CIDADE DESTINO</label><input type="text" id="cidade_destino" name="CIDADE DESTINO" required></div>
                    <div class="campo"><label for="uf_destino">UF DESTINO</label><input type="text" id="uf_destino" name="UF DESTINO" maxlength="2"></div>
                    <div class="campo"><label for="rota">ROTA</label><input type="text" id="rota" name="ROTA"></div>
                    <div class="campo"><label for="regiao">REGIÃO</label><input type="text" id="regiao" name="REGIÃO"></div>
                    <div class="campo"><label for="tipo_veiculo">Tipo Veículo</label><input type="text" id="tipo_veiculo" name="Tipo Veículo"></div>
                    <div class="campo"><label for="tipo_combust">Tipo Combust.</label><select id="tipo_combust" name="Tipo Combust."><option value="diesel">Diesel</option><option value="gasolina">Gasolina</option><option value="eletrico">Elétrico</option></select></div>
                </div>
            </fieldset>

            <fieldset id="secao-2"><legend>2. Métricas e Parâmetros Chave</legend>
                <div class="grid-campos">
                    <div class="campo"><label for="qt_km">QT KM</label><input type="number" id="qt_km" name="QT KM" step="0.1" required></div>
                    <div class="campo"><label for="tempo">TEMPO (Horas)</label><input type="number" id="tempo" name="TEMPO" step="0.1"></div>
                    <div class="campo"><label for="dias">Dias</label><input type="number" id="dias" name="Dias" min="0"></div>
                    <div class="campo"><label for="pedagio">Pedágio (R$ Viagem)</label><input type="number" id="pedagio" name="Pedágio" step="0.01"></div>
                    <div class="campo"><label for="frete_peso">Frete Peso (Ton/Vol)</label><input type="number" id="frete_peso" name="Frete Peso" step="0.01"></div>
                    <div class="campo"><label for="margem_desejada">Margem Desejada (%)</label><input type="number" id="margem_desejada" name="Margem Desejada" step="0.1"></div>
                    <div class="campo"><label for="retorno_ocioso">Retorno Ocioso?</label><select id="retorno_ocioso" name="Retorno Ocioso?"><option value="sim">Sim</option><option value="nao" selected>Não</option></select></div>
                </div>
            </fieldset>

            <fieldset id="secao-3"><legend>3. Projeção Mensal e Receita Mínima</legend>
                <div class="grid-campos">
                    <div class="campo"><label for="qt_dias_contab">Qt Dias Contábeis</label><input type="number" id="qt_dias_contab" name="Qt Dias Contab" min="1"></div>
                    <div class="campo"><label for="qt_viagens_mes">Qt Viagens Mês</label><input type="number" id="qt_viagens_mes" name="Qt Viagens Mês" min="0"></div>
                    <div class="campo"><label for="aumento_frota">% Aumento (Frota)</label><input type="number" id="aumento_frota" name="% Aumento (Frota)" step="0.1"></div>
                    <div class="campo"><label for="aumento_terceiro">% Aumento (Terceiro)</label><input type="number" id="aumento_terceiro" name="% Aumento (Terceiro)" step="0.1"></div>
                    <div class="campo"><label for="pedagio_mes">Pedágio Mês (R$)</label><input type="number" id="pedagio_mes" name="Pedágio Mês" readonly></div>
                    <div class="campo"><label for="frete_peso_mes">Frete Peso Mês (Ton/Vol)</label><input type="number" id="frete_peso_mes" name="Frete Peso Mês" readonly></div>
                    <div class="campo"><label for="km_total">KM Total (Mensal)</label><input type="number" id="km_total" name="KM Total" readonly></div>
                    <div class="campo"><label for="receita_min_frota">Receita Mínima Aceitável (Frota) R$</label><input type="number" id="receita_min_frota" name="Receita Mínima Aceitável (Frota)" step="0.01"></div>
                    <div class="campo"><label for="receita_min_terceiro">Receita Mínima Aceitável (Terceiro) R$</label><input type="number" id="receita_min_terceiro" name="Receita Mínima Aceitável (Terceiro)" step="0.01"></div>
                </div>
            </fieldset>

            <fieldset id="secao-4"><legend>4. Impostos, Mão de Obra e Custos Fixos</legend>
                <div class="grid-campos">
                    <div class="campo"><label for="aliquota_icms">ALÍQUOTA ICMS (%)</label><input type="number" id="aliquota_icms" name="ALIQUOTA ICMS" step="0.01"></div>
                    <div class="campo"><label for="rob_pro">ROB PRO (%)</label><input type="number" id="rob_pro" name="ROB PRO" step="0.01"></div>
                    <div class="campo"><label for="rob_icms">ROB ICMS (%)</label><input type="number" id="rob_icms" name="ROBICMS" step="0.01"></div>
                    <div class="campo"><label for="pis_cofins_p">PIS/COFINS (%)</label><input type="number" id="pis_cofins_p" name="PIS/COFINS %" step="0.01"></div>
                    <div class="campo"><label for="icms_r">ICMS - R$</label><input type="number" id="icms_r" name="ICMS-R$" readonly></div>
                    <div class="campo"><label for="pis_cofins_r">PIS/COFINS R$</label><input type="number" id="pis_cofins_r" name="PIS/COFINS R$" readonly></div>
                    <div class="campo"><label for="mo_horas">M.O Horas (R$)</label><input type="number" id="mo_horas" name="M.O Horas" step="0.01"></div>
                    <div class="campo"><label for="mo_diaria">M.O Diária (R$)</label><input type="number" id="mo_diaria" name="M.O Diária" step="0.01"></div>
                    <div class="campo"><label for="mo_pernoite">M.O Pernoite/Estadia (R$)</label><input type="number" id="mo_pernoite" name="M.O Pernoite/Estadia" step="0.01"></div>
                    <div class="campo"><label for="diarias_refeicoes">Diárias e Refeições (R$)</label><input type="number" id="diarias_refeicoes" name="Diárias e Refeições" step="0.01"></div>
                    <div class="campo"><label for="rol">ROL (R$)</label><input type="number" id="rol" name="ROL" step="0.01"></div>
                    <div class="campo"><label for="seguro">SEGURO (R$ Mês)</label><input type="number" id="seguro" name="SEGURO" step="0.01"></div>
                    <div class="campo"><label for="rastreador">RASTREADOR (R$ Mês)</label><input type="number" id="rastreador" name="RASTREADOR" step="0.01"></div>
                    <div class="campo"><label for="gerenciamento_risco">Gerenciamento Risco (R$ Mês)</label><input type="number" id="gerenciamento_risco" name="Gerenciamento Risco" step="0.01"></div>
                </div>
            </fieldset>

            <fieldset id="secao-5"><legend>5. Custos Variáveis (R$/KM ou R$/Viagem)</legend>
                <div class="grid-campos">
                    <div class="campo"><label for="combustivel">Combustível (L/KM)</label><input type="number" id="combustivel" name="COMBUSTÍVEL" step="0.001"></div>
                    <div class="campo"><label for="pneu">PNEU (R$ Custo/KM)</label><input type="number" id="pneu" name="PNEU" step="0.0001"></div>
                    <div class="campo"><label for="manutencao">MANUTENÇÃO (R$ Custo/KM)</label><input type="number" id="manutencao" name="MANUTENÇÃO" step="0.0001"></div>
                    <div class="campo"><label for="comissao">COMISSÃO (%)</label><input type="number" id="comissao" name="COMISSÃO" step="0.1"></div>
                    <div class="campo"><label for="valor_compra">Valor Compra (Veículo)</label><input type="number" id="valor_compra" name="Valor Compra" step="0.01"></div>
                    <div class="campo"><label for="taxas">TAXAS (R$ fixo)</label><input type="number" id="taxas" name="TAXAS" step="0.01"></div>
                    <div class="campo"><label for="pedagio2">PEDÁGIO 2 (R$ Fixo/Mês)</label><input type="number" id="pedagio2" name="PEDÁGIO2" step="0.01"></div>
                    <div class="campo"><label for="lavagem">Lavagem (R$ Viagem)</label><input type="number" id="lavagem" name="Lavagem" step="0.01"></div>
                </div>
            </fieldset>

            <fieldset id="secao-6"><legend>6. Resultados e Margens de Contribuição (Calculados)</legend>
                <div class="grid-campos">
                    <div class="campo"><label for="custo_oportunidade">Custo de Oportunidade (R$)</label><input type="number" id="custo_oportunidade" name="Custo de Oportunidade" readonly></div>
                    <div class="campo"><label for="custo_direto">Custo Direto (R$)</label><input type="number" id="custo_direto" name="Custo Direto" readonly></div>
                    <div class="campo"><label for="terceiros">Terceiros (R$)</label><input type="number" id="terceiros" name="Terceiros" readonly></div>
                    <div class="campo"><label for="lb_frota">LB % - FROTA</label><input type="number" id="lb_frota" name="LB % - FROTALB" readonly class="resultado-positivo"></div>
                    <div class="campo"><label for="lb_terceiros">LB % - TERCEIROS</label><input type="number" id="lb_terceiros" name="LB % - TERCEIROS" readonly class="resultado-positivo"></div>
                    <div class="campo"><label for="overhead">Overhead (R$)</label><input type="number" id="overhead" name="Overhead" readonly></div>
                    <div class="campo"><label for="depreciacao">Depreciação (R$)</label><input type="number" id="depreciacao" name="Depreciacao" readonly></div>
                    <div class="campo"><label for="custos_indiretos">Custos Indiretos (R$)</label><input type="number" id="custos_indiretos" name="Custos Indiretos" readonly></div>
                    <div class="campo"><label for="custo_frota">Custo Frota (R$)</label><input type="number" id="custo_frota" name="Custo Frota" readonly></div>
                    <div class="campo"><label for="custo_terceiro">Custo Terceiro (R$)</label><input type="number" id="custo_terceiro" name="Custo Terceiro" readonly></div>
                    <div class="campo"><label for="mc_frota_r">MC R$ - FROTA</label><input type="number" id="mc_frota_r" name="MC R$ - FROTAMC" readonly class="resultado-positivo"></div>
                    <div class="campo"><label for="mc_terceiros_r">MC R$ - TERCEIROS</label><input type="number" id="mc_terceiros_r" name="MC R$ - TERCEIROS" readonly class="resultado-positivo"></div>
                    <div class="campo"><label for="mc_frota_p">MC % - FROTA</label><input type="number" id="mc_frota_p" name="MC % - FROTA2" readonly class="resultado-positivo"></div>
                    <div class="campo"><label for="mc_terceiros_p">MC % - TERCEIROS</label><input type="number" id="mc_terceiros_p" name="MC % - TERCEIROS3" readonly class="resultado-positivo"></div>
                    <div class="campo"><label for="frete_km">Frete/KM (R$)</label><input type="number" id="frete_km" name="Frete/KM" readonly></div>
                    <div class="campo"><label for="custo_km">Custo/KM (R$)</label><input type="number" id="custo_km" name="Custo/KM" readonly></div>
                    <div class="campo"><label for="terceiro_km">Terceiro/KM (R$)</label><input type="number" id="terceiro_km" name="Terceiro/KM" readonly></div>
                </div>
            </fieldset>

            <fieldset id="secao-7"><legend>7. Sugestão de Contratação</legend>
                <div class="campo-grupo-radio">
                    <input type="radio" id="opcao_frota" name="CONTRATACAO" value="FROTA"><label for="opcao_frota">FROTA</label>
                    <input type="radio" id="opcao_terceiro" name="CONTRATACAO" value="TERCEIRO"><label for="opcao_terceiro">TERCEIRO</label>
                </div>
            </fieldset>

            <button type="submit" class="btn-calcular">CALCULAR VIABILIDADE</button>

        </form>
    </main>

    <script>
        var modal = document.getElementById("pageModal");
        var modalTitle = document.getElementById("modalTitle");
        var sidebar = document.getElementById("menu-sidebar");

        // Função para abrir/fechar a Sidebar
        function toggleSidebar() {
            sidebar.classList.toggle('open');
        }

        // Função para abrir o Modal
        function openModal(title) {
            sidebar.classList.remove('open'); // Fecha a Sidebar
            modalTitle.textContent = title; // Define o título do Modal
            modal.style.display = "block"; // Exibe o Modal
        }

        // Função para fechar o Modal
        function closeModal() {
            modal.style.display = "none";
        }

        // Fecha o modal se o usuário clicar fora dele
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>